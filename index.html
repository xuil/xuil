<!doctype html>



  


<html class="theme-next pisces use-motion">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="Web Dev Life" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1">






<meta property="og:type" content="website">
<meta property="og:title" content="Web Dev Life">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Web Dev Life">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Web Dev Life">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/">

  <title> Web Dev Life </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Web Dev Life</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/04/29/css-em/" itemprop="url">
                  CSS em 概述
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2019-04-29T11:28:22+08:00" content="2019-04-29">
              2019-04-29
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>em是相对长度单位，是排版中使用的一种度量方式，基准值是当前元素的字号大小。<br>在CSS中，1em表示当前元素的字号大小，实际值取决于在哪个元素上应用。</p>
<h4 id="示例1"><a href="#示例1" class="headerlink" title="示例1"></a>示例1</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;padding-em&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">.padding-em&#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    padding: 1em</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>把padding赋值为1em，乘以字号，得到一个值为16px的padding计算值</p>
<h4 id="示例2"><a href="#示例2" class="headerlink" title="示例2"></a>示例2</h4><p>例如我们将font-size也使用相对单位，然后再设置其他属性会有怎样的表现？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;font-size:12px&quot;&gt;</span><br><span class="line">  &lt;div style=&quot;font-size:2em; line-height:2em&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>我们将内部元素样式计算分为两步：</p>
<p>1、计算font-size: 基于继承的字号大小 2em = 2×12px = 24px<br>2、计算其他属性值： 基于当前的字号大小 2em = 2×24px = 48px</p>
<p>这里要注意的是，尽管font-size和line-height声明时em值是一样的，但它们的计算值是不一样的。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/09/css-box-model/" itemprop="url">
                  CSS盒模型
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-09T11:37:49+08:00" content="2016-09-09">
              2016-09-09
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h3><blockquote>
<p>文档中的每个元素被描绘为矩形盒子。渲染引擎的目的就是判定大小，属性及这些盒子的位置。<br>在CSS中，这些矩形盒子用盒模型来描述。这个模型描述了一个元素所占用的空间。每一个盒子有四条边界：外边距边界margin edge, 边框边界border edge, 内边距边界padding edge 与 内容边界content edge。 </p>
</blockquote>
<p>In the W3C box model, the width of an element gives the width of the content of the box, excluding padding and border.</p>
<p>In the traditional box model, the width of an element gives the width between the borders of the box, including padding and border.</p>
<p>By default, all browsers use the W3C box model, with the exception of IE in “Quirks Mode” (IE5.5 Mode), which uses the traditional one.</p>
<h3 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h3><blockquote>
<p>box-sizing 属性用来改变默认的CSS盒模型对元素宽高的计算方式。这个属性可以用于模拟那些非正确支持标准盒模型的浏览器的表现。</p>
</blockquote>
<p>box-sizing: border-box</p>
<p>box-sizing: content-box</p>
<p>The first declaration will cause the box sizes to be applied to the border and everything inside it (traditional model)</p>
<p>the second one will cause the box sizes to be applied to the content only (W3C model).</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/29/what-does-restful-really-mean/" itemprop="url">
                  什么是RESTful
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-29T11:43:33+08:00" content="2016-08-29">
              2016-08-29
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote>
<p>本文转载自：<a href="http://www.zcfy.cc" target="_blank" rel="noopener">众成翻译</a><br>译者：<a href="http://www.zcfy.cc/@poppinlp" target="_blank" rel="noopener">poppinlp</a><br>链接：<a href="http://www.zcfy.cc/article/1063" target="_blank" rel="noopener">http://www.zcfy.cc/article/1063</a><br>原文：<a href="https://www.sitepoint.com/what-does-restful-really-mean/" target="_blank" rel="noopener">https://www.sitepoint.com/what-does-restful-really-mean/</a></p>
</blockquote>
<p>上个月我参加了 <a href="https://skillsmatter.com" target="_blank" rel="noopener">Skillsmatter</a> 的 <a href="https://skillsmatter.com/courses/541-fast-track-to-restful-to-microservices" target="_blank" rel="noopener">RESTful 微服务培训</a>。在课程中，我们讨论了 REST API 通常可以给网络应用提供什么，并特别讨论了和微服务通讯相关的内容。个人从这次课程中得到的最大收获是，对于 REST 是什么以及它的利弊有了更好的理解。</p>
<p>在我职业生涯的大部分时候，我专注于移动技术，也就是，作为服务 API 的消费者。我之前认为我使用过的大多数 API 都是 RESTful 的，但现在我觉得它们 99% 都和 RESTful 相距甚远（因为服务端添加了一些东西，导致客户端崩溃，这听起来很耳熟吧？）。</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>REST 这个术语表示 “REpresentational State Transfer”。它的一个可能的正式定义如下：</p>
<blockquote>
<p>基于在客户端和服务端之间转移状态（文档），从而使得应用程序状态产生进展的结构化 API 风格。<br>Architectural API style based on transferring a representation of state (documents) between client and server in order to progress the state of an application.</p>
</blockquote>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/08/29/what-does-restful-really-mean/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/24/css-flex-attribute/" itemprop="url">
                  CSS Flex属性
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-24T17:10:12+08:00" content="2016-08-24">
              2016-08-24
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>CSS flex 属性是一个简写属性，它定义元素在容器中的伸缩行为。flex元素可以根据他们的flex-grow 因子拉伸以填充可用空间，或根据他们的 flex-shrink 因子收缩以防止溢出。</p>
<h5 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h5><p>flex：none | [flex-grow flex-shrink flex-basis]</p>
<h5 id="取值："><a href="#取值：" class="headerlink" title="取值："></a>取值：</h5><p><strong>none</strong>：</p>
<p>none关键字的计算值为: 0 0 auto</p>
<p><strong>flex-grow</strong>：</p>
<p>用来指定扩展比率。剩余空间是正值时此flex子项相对于flex容器里其他flex子项能分配到空间比例。<br>在flex属性中该值如果被省略则默认为1。</p>
<p><strong>flex-shrink</strong>：</p>
<p>用来指定收缩比率。剩余空间是负值时此flex子项相对于flex容器里其他flex子项能收缩的空间比例。<br>在收缩的时候收缩比率会以伸缩基准值加权。<br>在flex属性中该值如果被省略则默认为1。</p>
<p><strong>flex-basis</strong>：</p>
<p>用来指定伸缩基准值。在根据伸缩比率计算出剩余空间的分布之前，flex子项长度的起始数值。<br>flex属性中该值如果被省略则默认为0%。<br>flex属性中该值如果被指定为auto，则伸缩基准值的计算值是自身的width设置；如果自身的宽度没有定义，则长度取决于内容。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/08/24/css-flex-attribute/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/09/angularjs-exactly-one-root-element/" itemprop="url">
                  AngularJS "exactly one root element" 错误排查
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-11-09T11:54:33+08:00" content="2015-11-09">
              2015-11-09
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/未分类/" itemprop="url" rel="index">
                    <span itemprop="name">未分类</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>错误提示还是很清楚的，比较诧异的地方是我的模板中并没有多个root element</p>
<h4 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h4><p>angularjs为比较老的版本（1.2.2）</p>
<p>directive设置replace为true</p>
<p>模板第一行为注释</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">app.directive(&quot;helloWorld&quot;, function() &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    restrict: &quot;A&quot;,</span><br><span class="line">    template: &quot;&lt;!-- Hello world directive --&gt;&lt;div&gt;Hello world&lt;/div&gt;&quot;,</span><br><span class="line">    replace: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>看下错误提示处的代码，发现并不会对注释做处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//angular代码</span><br><span class="line">if (directive.replace) &#123;</span><br><span class="line">    replaceDirective = directive;</span><br><span class="line">    $template = jqLite(&apos;&lt;div&gt;&apos; +</span><br><span class="line">                        trim(directiveValue) +</span><br><span class="line">                    &apos;&lt;/div&gt;&apos;).contents();</span><br><span class="line">    compileNode = $template[0];</span><br><span class="line"></span><br><span class="line">    if ($template.length != 1 || compileNode.nodeType !== 1) &#123;</span><br><span class="line">        throw $compileMinErr(&apos;tplrt&apos;,</span><br><span class="line">            &quot;Template for directive &apos;&#123;0&#125;&apos; must have exactly one root element. &#123;1&#125;&quot;,</span><br><span class="line">            directiveName, &apos;&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><ul>
<li>去掉注释</li>
<li>replace设置为false</li>
<li>模板再包一层</li>
<li>升级angularjs（1.3+）</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/06/30/angularjs-cookie/" itemprop="url">
                  AngularJS Cookies 操作
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-06-30T11:54:33+08:00" content="2015-06-30">
              2015-06-30
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/未分类/" itemprop="url" rel="index">
                    <span itemprop="name">未分类</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="cookies"><a href="#cookies" class="headerlink" title="$cookies"></a>$cookies</h4><p>提供浏览器cookies的读/写访问操作。</p>
<p>需要引入angular-cookies.js文件,ngCookies模块。</p>
<ul>
<li>基本方法put/get</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   var app = angular.module(&quot;myApp&quot;, [&apos;ngCookies&apos;]);</span><br><span class="line"></span><br><span class="line">   app.controller(&quot;myCtrl&quot;, [&apos;$cookies&apos;, function($cookies) &#123;</span><br><span class="line">   	//set cookie</span><br><span class="line">$cookies.put(&quot;key&quot;,&quot;value&quot;);</span><br><span class="line">//get cookie</span><br><span class="line">$cookies.get(&quot;key&quot;); //value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   &#125;]);</span><br></pre></td></tr></table></figure>
<ul>
<li>存取对象，putObject/getObject<br>将Object序列化/反序列化操作后，进行put/get操作，参看源码</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">putObject: function(key, value, options) &#123;</span><br><span class="line">  this.put(key, angular.toJson(value), options);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getObject: function(key) &#123;</span><br><span class="line">  var value = this.get(key);</span><br><span class="line">  return value ? angular.fromJson(value) : value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="cookieStore"><a href="#cookieStore" class="headerlink" title="$cookieStore"></a>$cookieStore</h4><p>$cookieStore服务已经不建议使用，其底层使用的就是$cookie的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">get: function(key) &#123;</span><br><span class="line">  return $cookies.getObject(key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">put: function(key, value) &#123;</span><br><span class="line">  $cookies.putObject(key, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在控制台中使用$cookieStore服务读取cookie时遇到过错误提示，通过上面的分析我们知道是cookie值反序列化时出现了异常，改用$cookie.get解决了问题。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/11/24/css-e8-a7-84-e5-88-99-e4-b8-ad-e6-b5-8f-e8-a7-88-e5-99-a8-e5-89-8d-e7-bc-80-e7-9a-84-e5-a4-84-e7-90-86/" itemprop="url">
                  CSS规则中浏览器前缀的处理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-11-24T17:19:51+08:00" content="2014-11-24">
              2014-11-24
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/未分类/" itemprop="url" rel="index">
                    <span itemprop="name">未分类</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一、预处理：</p>
<p>使用CSS预处理语言（如sass），通过定义函数的方式来添加各浏览器前缀：</p>
<p>sass写法</p>
<pre>= vendor-prefix($name, $argument)
  -webkit-#{$name}: #{$argument}
  -ms-#{$name}: #{$argument}
  -moz-#{$name}: #{$argument}
  -o-#{$name}: #{$argument}
  #{$name}: #{$argument}

//使用
p
  +vendor-prefix(hyphens, auto)</pre>
scss写法
<pre>@mixin vendor-prefix($name, $argument) {
  -webkit-#{$name}: #{$argument};
  -ms-#{$name}: #{$argument};
  -moz-#{$name}: #{$argument};
  -o-#{$name}: #{$argument};
  #{$name}: #{$argument};
}
//使用
p {
  @include vendor-prefix(hyphens, auto)
}</pre>
处理后的CSS
<pre>p {
  -webkit-hyphens: auto;
  -ms-hyphens: auto;
  -moz-hyphens: auto;
  -o-hyphens: auto;
  hyphens: auto;
}</pre>
二、后处理：

个人而言，我不是很习惯sass的书写方式，不习惯在css（sass）中定义函数，不习惯编译sass文件。
我希望可以按着习惯（原生）的方式书写css，然后通过简单的处理做到对各浏览器的兼容（这里仅只添加各浏览器前缀，不包含浏览器hack行为）。
下面介绍的autoprefixer插件很好的解决了我上面的需求。
autoprefixer通过解析CSS文件中相关属性，添加浏览器前缀到相应规则中。autoprefixer中包含一份[Can I Use ](http://caniuse.com/)数据，通过它来决定需要添加哪些前缀。

对应上面的例子，我们在style.css中定义规则
<pre>p {
  hyphens: auto;
}</pre>
使用grunt + grunt-autoprefixer处理style.css，Gruntfile.js编写如下：
<pre>module.exports = function (grunt) {
    grunt.loadNpmTasks('grunt-autoprefixer' );
    grunt.initConfig({
            autoprefixer: {
                options: {
                    browsers: ['last 2 versions']
                },
                single_file: {
                    src: 'style.css',
                    dest: 'style.output.css'
                }
            }
    });
    grunt.registerTask('autoprefix', ['autoprefixer']);
}</pre>
处理后的style.output.css
<pre>p {
  -webkit-hyphens: auto;
     -moz-hyphens: auto;
      -ms-hyphens: auto;
          hyphens: auto;
}</pre>
题外：

用grunt注册任务的名称不能同initConfig同名，否则会报错 maximum call stack size exceeded
<pre>grunt.registerTask('autoprefixer', ['autoprefixer']); //报错</pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/11/18/angularjs-e4-b8-adparseinterpolatecompile/" itemprop="url">
                  AngularJS中$parse,$interpolate,$compile
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-11-18T11:54:33+08:00" content="2014-11-18">
              2014-11-18
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/未分类/" itemprop="url" rel="index">
                    <span itemprop="name">未分类</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>三者都可用来进行视图渲染，但在不同的层面提供服务：</p>
<pre>
//示例代码
var imgHtml = '![](/path/.)';
$scope.name = 'image';
$scope.extension = 'jpg';
</pre>

<p>$parse 主要处理单个变量表达式，并能更改变量值（读写服务）。</p>
<pre>
$parse('name')($scope); //-> 'image'
$parse('name').assign($scope, 'image2'); // $scope.name -> 'image2' 
</pre>

<p>$interpolate 在$parse基础上进行包装，能处理多个变量表达式，但不能更改变量值（只读服务）。</p>
<pre>
$interpolate("/path/.")($scope) // -> 'path/image.jpg'
</pre>

<p>$compile 将字符串转为DOM节点。</p>
<pre>
$compile(imgHtml)($scope) // -> img节点
</pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/11/17/angularjs-e4-b8-adproviderfactoryservice/" itemprop="url">
                  AngularJS中Provider,Factory,Service
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-11-17T16:14:35+08:00" content="2014-11-17">
              2014-11-17
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/未分类/" itemprop="url" rel="index">
                    <span itemprop="name">未分类</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>简单来讲，可以使用这三种方法创建服务。其中provider允许在使用前通过config对服务进行配置，而factory和service在angularjs内部都是通过provider实现的。</p>
<pre>function factory(name, factoryFn) {
  return provider(name, { $get: factoryFn });
}

function service(name, constructor) {
  return factory(name, ['$injector', function($injector) {
    return $injector.instantiate(constructor);
  }]);
}</pre>
下面是一个具体的使用示例：
<pre>var myApp = angular.module('myApp', []);

//service style, probably the simplest one
myApp.service('helloWorldFromService', function() {
  this.sayHello = function() {
    return "Hello, World!"
  };
});

//factory style, more involved but more sophisticated
myApp.factory('helloWorldFromFactory', function() {
  return {
    sayHello: function() {
      return "Hello, World!"
    }
  };
});

//provider style, full blown, configurable version
myApp.provider('helloWorld', function() {
  // In the provider function, you cannot inject any
  // service or factory. This can only be done at the
  // "$get" method.

  this.name = 'Default';

  this.$get = function() {
    var name = this.name;
    return {
      sayHello: function() {
        return "Hello, " + name + "!"
      }
    }
  };

  this.setName = function(name) {
    this.name = name;
  };
});

//we can configure a provider
myApp.config(function(helloWorldProvider){
  helloWorldProvider.setName('World');
});

function MyCtrl($scope, helloWorld, helloWorldFromFactory, helloWorldFromService) {

  $scope.hellos = [
    helloWorld.sayHello(),
    helloWorldFromFactory.sayHello(),
    helloWorldFromService.sayHello()
  ];
}

​</pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/09/28/angularjs-e4-b8-adwatch-e5-92-8cwatchcollection-e7-9a-84-e4-bd-bf-e7-94-a8/" itemprop="url">
                  AngularJS中$watch和$watchCollection
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-09-28T10:03:48+08:00" content="2014-09-28">
              2014-09-28
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/未分类/" itemprop="url" rel="index">
                    <span itemprop="name">未分类</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>AngularJS中，我们使用$watch方法来监视scope中某个变量的变化。下面是一个简单的例子：</p>
<p><pre class="“javascript“"><br>function($scope){<br>    $scope.number = 0;<br>    $scope.$watch(‘number’,function(newVal,oldVal){<br>        //当number发生变化的时候执行<br>    })<br>}</pre></p>
<p><br>对于监视的变量是原始类型（如：数字、字符串），上面的代码可以很好的执行；而如果监视的变量是引用类型（如：对象、数组），上面的代码可能会出现问题。例如：</p>
<p><pre class="“javascript“"><br>function($scope){<br>    $scope.user = {<br>        name: ‘tom’,<br>        age: 11<br>    };<br>    $scope.$watch(‘user’,function(){<br>        //当给user添加一个属性job时，没有执行<br>    })；<br>    //再看一个例子<br>    $scope.items = [1,2,3];<br>    $scope.$watch(‘items’,function(){<br>        //当给items增加一项时，没有执行<br>    })；</pre></p>
<p>}</p>
<p><br>对上面的问题我们要对代码稍作修改：</p>
<p><pre class="“javascript“"><br>function($scope){<br>    $scope.user = {<br>        name: ‘tom’,<br>        age: 11<br>    };<br>    $scope.$watch(‘user’,function(){<br>        //当给user添加一个属性job时执行<br>    },true)；<br>    //再看一个例子<br>    $scope.items = [1,2,3];<br>    $scope.$watch(‘items’,function(){<br>        //当给items增加一项时执行<br>    },true)；</pre></p>
<p>}</p>
<p><br>我们将$watch函数第三个参数设置为true。$watch这第三个参数在默认情况下是false。在默认情况下，我们进行的监视叫做引用监视（reference watch）。它的意思是只要监视的对象引用没有发生变化，就不算它发生了变化。如果我们将$watch的第三个变量设置为true，这时进行的监视叫做全等监视(equality watch)。它在运行时需要先遍历整个监视对象，在每次$digest之前使用angular.copy()将整个对象深拷贝一遍然后用angular.equal()将前后的对象进行对比。</p>
<p>可以看到全等监视资源开销要大于引用监视，实际场景中要酌情使用。对于数组的监视，angular 1.1.4版本之后添加了一个$watchCollection方法来对监视数组。它的性能介于全等监视和引用监视二者之间，它并不会对数组中每一项的属性进行监视，但是可以对数组的项目的增减做出反应。</p>
<p><pre class="“javascript“"><br>function($scope){</pre></p>
<pre><code>$scope.items = [1,2,3];
$scope.$watch(&apos;items&apos;,function(){
    //当给items增加一项时执行
},true)；

//使用watchCollection

$scope.$watchCollection(&apos;items&apos;,function(){
    //当给items增加一项时执行
})；
</code></pre><p>}</p>
<p><br>总结，一图胜千言，下面这张图很好的概括了本文介绍的内容。希望本文对使用AngularJS的朋友有所帮助。</p>
<p><a href="http://phped-wordpress.stor.sinaapp.com/uploads/2014/09/angular_watch_depths1.png" target="_blank" rel="noopener"><img src="http://phped-wordpress.stor.sinaapp.com/uploads/2014/09/angular_watch_depths1.png" alt title="angular_watch_depths"></a></p>
<div></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Xin">
          <p class="site-author-name" itemprop="name">Xin</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">33</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xin</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
